!function(a,e){"use strict";var l,r="b-nativegrid",c="b-masonry",n="is-"+c,o=n+"-mounted",t=o+"-disabled",s="."+r;function d(o){var e,n=getComputedStyle(o._el).gridTemplateColumns.split(" ").length;o.ncol===n&&!o.mod||(o.ncol=n,(e=function(){a.each(o.items,function(e){e.style.removeProperty("margin-top")})})(),1<o.ncol?(a.removeClass(o._el,t),a.each(o.items.slice(n),function(e,n){var t=a.rect(o.items[n]).bottom,n=a.rect(e).top;e.style.marginTop=t+o.gap-n+"px"})):(a.addClass(o._el,t),e()),o.mod=0)}function u(e){return e.map(function(e){var n=a.slice(e.childNodes);return{_el:e,gap:parseFloat(getComputedStyle(e).gridRowGap),items:n.filter(function(e){return 1===e.nodeType&&-1!=+getComputedStyle(e).gridColumnEnd}),ncol:0,count:n.length}})}function i(e){a.find(e,".views-field")&&a.find(e,".views-field p")&&a.addClass(e,"is-b-captioned"),a.addClass(e,o)}function m(t){function n(n){t.find(function(e){return e._el===n.target.parentElement}).mod=1}var o=new ResizeObserver(function(e){a.each(e,n)});function e(){a.each(t,function(e){a.each(e.items,function(e){o.observe(e)})})}function i(e){e===l?(e=a.toElms(s),t.length&&((t=u(e)).find(function(e){return a.hasClass(e._el,r)}).mod=1,a.each(t,d))):a.each(t,d)}t=u(t),l&&setTimeout(function(){i(l),e(),l=!1},700),a.on("load."+c,function(){i(),e(),a.on("resize."+c,i,!1)},!1)}e.behaviors.blazyNativeGrid={attach:function(e){e=a.once(i,c,".b-nativegrid.is-b-masonry",e);e.length&&"masonry"!==getComputedStyle(e[0]).gridTemplateRows&&m(e)},detach:function(e,n,t){"unload"===t&&(l=!0,(e=a.once.removeSafely(c,s,e))&&e.length&&a.removeClass(e[0],o))}}}(dBlazy,Drupal);
